{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jacob\\\\Desktop\\\\Toothcraft\\\\src\\\\pages\\\\SkillTreePage.js\",\n  _s = $RefreshSig$();\n// src/pages/SkillTreePage.js\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth, db } from '../firebase';\nimport { doc, getDoc, setDoc, updateDoc, arrayUnion, arrayRemove } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SkillTreePage() {\n  _s();\n  // 1Ô∏è‚É£ Auth + state\n  const [user, loadingUser] = useAuthState(auth);\n  const [unlocked, setUnlocked] = useState([]); // array of category IDs\n  const [loadingData, setLoading] = useState(true);\n\n  // 2Ô∏è‚É£ Firestore doc reference\n  const progRef = user ? doc(db, 'users', user.uid) : null;\n\n  // 3Ô∏è‚É£ Load or init progress\n  useEffect(() => {\n    if (!user) return;\n    getDoc(progRef).then(snap => {\n      if (snap.exists()) {\n        setUnlocked(snap.data().unlocked || []);\n      } else {\n        setDoc(progRef, {\n          unlocked: []\n        });\n      }\n      setLoading(false);\n    });\n  }, [user]);\n\n  // 4Ô∏è‚É£ Category definitions\n  const categories = [{\n    id: 'surgery',\n    label: 'Oral Surgery',\n    x: 100,\n    y: 150\n  }, {\n    id: 'ortho',\n    label: 'Orthodontics',\n    x: '50%',\n    y: 150\n  }, {\n    id: 'endo',\n    label: 'Endodontics',\n    x: 400,\n    y: 150\n  }, {\n    id: 'restor',\n    label: 'Restorative Dentistry',\n    x: 100,\n    y: 300\n  }, {\n    id: 'implant',\n    label: 'Implant Dentistry',\n    x: '50%',\n    y: 300\n  }, {\n    id: 'radio',\n    label: 'Radiology',\n    x: 400,\n    y: 300\n  }, {\n    id: 'tmd',\n    label: 'TMD / Orofacial Pain',\n    x: '50%',\n    y: 450\n  }];\n\n  // 5Ô∏è‚É£ Handler to toggle completion\n  const toggle = async id => {\n    if (!user) return;\n    if (unlocked.includes(id)) {\n      // remove\n      await updateDoc(progRef, {\n        unlocked: arrayRemove(id)\n      });\n      setUnlocked(u => u.filter(x => x !== id));\n    } else {\n      // add\n      await updateDoc(progRef, {\n        unlocked: arrayUnion(id)\n      });\n      setUnlocked(u => [...u, id]);\n    }\n  };\n  if (loadingUser || loadingData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20\n      },\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100vw',\n      height: '100vh',\n      background: '#f0f0f0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        position: 'absolute',\n        top: 10,\n        left: 10,\n        zIndex: 10,\n        background: '#fff',\n        padding: '4px 8px',\n        border: '1px solid #ccc'\n      },\n      children: \"\\uD83D\\uDEE0\\uFE0F Skill Tree Loaded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 'calc(50% - 60px)',\n        width: 120,\n        height: 40,\n        border: '2px solid #333',\n        background: '#fff',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: \"Start Here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), categories.map(cat => {\n      const completed = unlocked.includes(cat.id);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => toggle(cat.id),\n        style: {\n          position: 'absolute',\n          left: typeof cat.x === 'number' ? cat.x : `calc(${cat.x} - 75px)`,\n          top: cat.y,\n          width: 150,\n          height: 40,\n          border: `2px solid ${completed ? 'green' : '#333'}`,\n          background: completed ? '#e0ffe0' : '#fff',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          cursor: 'pointer',\n          userSelect: 'none'\n        },\n        children: cat.label\n      }, cat.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(SkillTreePage, \"zhNCNiKIwZFZvrgvtZlD8rSk9r4=\", false, function () {\n  return [useAuthState];\n});\n_c = SkillTreePage;\nvar _c;\n$RefreshReg$(_c, \"SkillTreePage\");","map":{"version":3,"names":["React","useState","useEffect","useAuthState","auth","db","doc","getDoc","setDoc","updateDoc","arrayUnion","arrayRemove","jsxDEV","_jsxDEV","SkillTreePage","_s","user","loadingUser","unlocked","setUnlocked","loadingData","setLoading","progRef","uid","then","snap","exists","data","categories","id","label","x","y","toggle","includes","u","filter","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","position","width","height","background","top","left","zIndex","border","display","alignItems","justifyContent","map","cat","completed","onClick","cursor","userSelect","_c","$RefreshReg$"],"sources":["C:/Users/Jacob/Desktop/Toothcraft/src/pages/SkillTreePage.js"],"sourcesContent":["// src/pages/SkillTreePage.js\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuthState }       from 'react-firebase-hooks/auth';\nimport { auth, db }           from '../firebase';\nimport { doc, getDoc, setDoc, updateDoc, arrayUnion, arrayRemove } from 'firebase/firestore';\n\nexport default function SkillTreePage() {\n  // 1Ô∏è‚É£ Auth + state\n  const [user, loadingUser]       = useAuthState(auth);\n  const [unlocked, setUnlocked]   = useState([]);   // array of category IDs\n  const [loadingData, setLoading] = useState(true);\n\n  // 2Ô∏è‚É£ Firestore doc reference\n  const progRef = user ? doc(db, 'users', user.uid) : null;\n\n  // 3Ô∏è‚É£ Load or init progress\n  useEffect(() => {\n    if (!user) return;\n    getDoc(progRef).then(snap => {\n      if (snap.exists()) {\n        setUnlocked(snap.data().unlocked || []);\n      } else {\n        setDoc(progRef, { unlocked: [] });\n      }\n      setLoading(false);\n    });\n  }, [user]);\n\n  // 4Ô∏è‚É£ Category definitions\n  const categories = [\n    { id: 'surgery', label: 'Oral Surgery',        x: 100, y: 150 },\n    { id: 'ortho',   label: 'Orthodontics',        x: '50%', y: 150 },\n    { id: 'endo',    label: 'Endodontics',         x: 400, y: 150 },\n    { id: 'restor',  label: 'Restorative Dentistry', x: 100, y: 300 },\n    { id: 'implant', label: 'Implant Dentistry',   x: '50%', y: 300 },\n    { id: 'radio',   label: 'Radiology',           x: 400, y: 300 },\n    { id: 'tmd',     label: 'TMD / Orofacial Pain',x: '50%', y: 450 },\n  ];\n\n  // 5Ô∏è‚É£ Handler to toggle completion\n  const toggle = async id => {\n    if (!user) return;\n    if (unlocked.includes(id)) {\n      // remove\n      await updateDoc(progRef, { unlocked: arrayRemove(id) });\n      setUnlocked(u => u.filter(x => x !== id));\n    } else {\n      // add\n      await updateDoc(progRef, { unlocked: arrayUnion(id) });\n      setUnlocked(u => [...u, id]);\n    }\n  };\n\n  if (loadingUser || loadingData) {\n    return <div style={{ padding: 20 }}>Loading‚Ä¶</div>;\n  }\n\n  return (\n    <div style={{\n      position: 'relative', width: '100vw', height: '100vh', background: '#f0f0f0'\n    }}>\n      {/* Debug header */}\n      <h1 style={{\n        position: 'absolute', top: 10, left: 10, zIndex: 10,\n        background: '#fff', padding: '4px 8px', border: '1px solid #ccc'\n      }}>\n        üõ†Ô∏è Skill Tree Loaded\n      </h1>\n\n      {/* Root node */}\n      <div style={{\n        position: 'absolute', top: 0, left: 'calc(50% - 60px)',\n        width: 120, height: 40,\n        border: '2px solid #333', background: '#fff',\n        display: 'flex', alignItems: 'center', justifyContent: 'center'\n      }}>\n        Start Here\n      </div>\n\n      {/* Category boxes */}\n      {categories.map(cat => {\n        const completed = unlocked.includes(cat.id);\n        return (\n          <div\n            key={cat.id}\n            onClick={() => toggle(cat.id)}\n            style={{\n              position: 'absolute',\n              left: typeof cat.x === 'number' ? cat.x : `calc(${cat.x} - 75px)`,\n              top: cat.y,\n              width: 150, height: 40,\n              border: `2px solid ${completed ? 'green' : '#333'}`,\n              background: completed ? '#e0ffe0' : '#fff',\n              display: 'flex', alignItems: 'center', justifyContent: 'center',\n              cursor: 'pointer',\n              userSelect: 'none'\n            }}\n          >\n            {cat.label}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}